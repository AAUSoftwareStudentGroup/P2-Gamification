(function(){"use strict"; Bridge.define("ThreeOneSevenBee.Model.Geometry.PolygonModel",{config:{properties:{sides:null,corners:null,relations:null}},constructor:function(sides,corners,relations){this.setsides(sides);this.setcorners(corners);this.setrelations(relations)},constructor$1:function(sideCount){var sides=new Bridge.List$1(ThreeOneSevenBee.Model.Polygon.PolygonSide)(),corners=new Bridge.List$1(ThreeOneSevenBee.Model.Polygon.PolygonCorner)(),relations=new Bridge.List$1(ThreeOneSevenBee.Model.Polygon.PolygonRelation)(),side=65,corner=97,lastCorner=new ThreeOneSevenBee.Model.Polygon.PolygonCorner(corner++),thisCorner,i;for(corners.add(lastCorner),i=1;i<sideCount;i++)thisCorner=new ThreeOneSevenBee.Model.Polygon.PolygonCorner(corner++),corners.add(thisCorner),sides.add(new ThreeOneSevenBee.Model.Polygon.PolygonSide(lastCorner,thisCorner,side++)),thisCorner=i===sideCount-1?sides.getItem(0).getcorner1():lastCorner;this.setsides(sides);this.setcorners(corners);this.setrelations(relations)},getCornerIndex:function(cornerID){for(var i=0;i<this.getcorners().getCount();i++)if(this.getcorners().getItem(i).getidentifier()===cornerID)return i;return-1},cut:function(corner1c,corner2c){return this.cut$1(this.getCornerIndex(corner1c),this.getCornerIndex(corner2c))},cut$1:function(corner1,corner2){for(var newSides=new Bridge.List$1(ThreeOneSevenBee.Model.Polygon.PolygonSide)(),newCorners=new Bridge.List$1(ThreeOneSevenBee.Model.Polygon.PolygonCorner)(),newSide,cutCorner1=this.getcorners().getItem(corner1),cutCorner2=this.getcorners().getItem(corner2),corner=this.getcorners().getItem(corner1),i;corner!==cutCorner2;){for(newSide=new ThreeOneSevenBee.Model.Polygon.PolygonSide(null,null,169),i=0;i<this.getsides().getCount();i++)if(this.getsides().getItem(i).getcorner1()===corner||this.getsides().getItem(i).getcorner2()===corner){newSide=this.getsides().getItem(i);break}newSides.add(newSide);this.getsides().remove(newSide);newCorners.add(corner);this.getcorners().remove(corner);corner=newSide.getOtherCorner(corner)}return newSides.add(new ThreeOneSevenBee.Model.Polygon.PolygonSide(cutCorner1,cutCorner2,88)),this.getsides().add(new ThreeOneSevenBee.Model.Polygon.PolygonSide(cutCorner1,cutCorner2,88)),newCorners.add(cutCorner2),this.getcorners().add(cutCorner1),new ThreeOneSevenBee.Model.Geometry.PolygonModel("constructor",newSides,newCorners,this.getrelations())}});Bridge.init()})(this);